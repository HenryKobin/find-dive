(this.webpackJsonpseamap=this.webpackJsonpseamap||[]).push([[0],{160:function(e,t,n){},161:function(e,t,n){},189:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),c=n(22),r=n.n(c),l=(n(160),n(161),n(162),n(208)),o=n(78),s=n(38),d=(n(166),n(110)),u=n(129),h=Object(d.b)({name:"diver_config",initialState:{diverCurrentLocationString:"",diveSites:[]},reducers:{setCurrentLocationString:function(e,t){e.diverCurrentLocationString=t.payload},setCurrentLocationJSON:function(e,t){e.diverCurrentLocation=t.payload},setDiveSitesTest:function(e,t){e.diveSites=[{currents:null,distance:"17.04",hazards:null,lat:"33.9978",name:"Star of Scotland Shipwreck",water:null,marinelife:null,description:null,maxdepth:null,mindepth:null,predive:null,id:"23902",equipment:null,lng:"-118.5242"},{currents:null,distance:"19.09",hazards:null,lat:"34.0362",name:"Big Rock",water:null,marinelife:null,description:null,maxdepth:null,mindepth:null,predive:null,id:"21726",equipment:null,lng:"-118.6096"},{currents:null,distance:"20.28",hazards:null,lat:"33.9183",name:"The Pipe",water:null,marinelife:null,description:null,maxdepth:null,mindepth:null,predive:null,id:"24369",equipment:null,lng:"-118.4822"},{currents:null,distance:"21.29",hazards:null,lat:"33.8821",name:"Manhattan Beach",water:null,marinelife:null,description:null,maxdepth:null,mindepth:null,predive:null,id:"18317",equipment:null,lng:"-118.4130"},{currents:null,distance:"23.67",hazards:null,lat:"33.8448",name:"Redondo Breakwaters",water:null,marinelife:null,description:null,maxdepth:null,mindepth:null,predive:null,id:"17969",equipment:null,lng:"-118.4007"}]},setDiveSites:function(e,t){var n="http://api.divesites.com/?mode=sites&lat=".concat(t.payload.lat,"&lng=").concat(t.payload.lon,"&dist=25 ");u.get(n).then((function(t){console.log(t.data),e.diveSites=[t.data.sites]})).catch((function(e){console.log(e)}))}}}),j=function(e){return e.diverConfig.diverCurrentLocationString},p=function(e){return e.diverConfig.diveSites},b=h.actions,g=b.setCurrentLocationString,m=b.setCurrentLocationJSON,O=b.setDiveSites,v=(b.setDiveSitesTest,h.reducer),f=n(115),x=n(210),S=n(212),w=n(143),L=n(209),C=n(207),y=n(211),k=(n(185),n(203)),F=n(214),q=n(204),z=n(205),D=n(206),B=n(24),P=n.n(B),I=n.p+"static/media/wave.17df03b1.svg",J=n.p+"static/media/scuba-diving.7a1c8f63.svg",M=n.p+"static/media/Scuba.03f9e405.svg",T=n(5),G=P.a.icon({iconUrl:J,iconSize:[64,64],iconAnchor:[32,64],popupAnchor:[-22,-64],shadowUrl:null,shadowSize:null,shadowAnchor:null}),A=function(e){var t=[];return e.diveSites.map((function(e){return t.push([e.lat,e.lng])})),t.length<1&&t.push(e.diverLocationJSON),Object(T.jsxs)(T.Fragment,{children:[e.diverLocationLoaded&&Object(T.jsxs)(k.a,{id:"worldmap",bounds:t,zoom:10.5,children:[Object(T.jsx)(F.a,{url:e.url,attribution:'\xa9 <a href="http://www.thunderforest.com/">Thunderforest</a>, \xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),Object(T.jsx)(q.a,{position:e.diverLocationJSON}),e.diveSites.map((function(t){return Object(T.jsx)(q.a,{position:[t.lat,t.lng],icon:G,children:Object(T.jsxs)(z.a,{children:[Object(T.jsx)(y.a.Header,{children:Object(T.jsx)("strong",{children:t.name})}),Object(T.jsxs)(y.a.Meta,{children:[t.distance," miles away"]}),Object(T.jsx)(y.a.Description,{children:Object(T.jsx)("a",{target:"_blank",href:"https://www.google.com/search?q=".concat(t.name,"+near+").concat(e.diverLocation,"+dive+site"),children:"Find on Google"})})]})})})),Object(T.jsx)(D.a,{position:"bottomleft"})]}),!e.diverLocationLoaded&&Object(T.jsx)(T.Fragment,{children:Object(T.jsx)("div",{id:"noMap",children:Object(T.jsx)(w.a,{src:M,id:"waveSVG"})})})]})},N=n(129),H=function(e){var t=Object(o.b)(),n=Object(o.c)(j),a=Object(o.c)(p),c=Object(i.useState)(null),r=Object(s.a)(c,2),l=r[0],d=r[1],u=Object(i.useState)(null),h=Object(s.a)(u,2),b=h[0],v=h[1],k=Object(i.useState)(!1),F=Object(s.a)(k,2),q=(F[0],F[1]);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(A,{diverLocationJSON:l,diverLocation:n,diverLocationLoaded:b,diveSites:a,url:"https://{s}.tile.thunderforest.com/mobile-atlas/{z}/{x}/{y}.png?apikey=2b0938cd5adc4f70b1891708f2c31b8a"}),Object(T.jsxs)(x.a,{vertical:!0,fixed:"right",id:"searchMenu",children:[Object(T.jsxs)(S.a,{as:"h2",icon:!0,textAlign:"center",children:[Object(T.jsx)(w.a,{src:I,style:{color:"#82aa9f"}}),"FindDive"]}),Object(T.jsx)(x.a.Item,{children:Object(T.jsx)(L.a,{onSubmit:function(e){var i="https://us1.locationiq.com/v1/search.php?key=".concat("pk.d9b763aa8806116fcfb34720875e940e","&q=").concat(n,"&format=json");N.get(i).then((function(e){d([e.data[0].lat,e.data[0].lon]),t(m(e.data[0])),t(O(e.data[0])),v(!0),q(!0)})).catch((function(e){e.response?f.b.error(" Please try again momentarily.",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0}):e.request?console.log(e.request):console.log("Error",e.message)}))},children:Object(T.jsxs)(L.a.Group,{children:[Object(T.jsx)(C.a,{id:"myLocation",label:{icon:"map marker alternate"},labelPosition:"left corner",size:"small",placeholder:"city, state",onChange:function(e){e.target.value.length>=3&&v(!1),t(g(e.target.value))}}),Object(T.jsx)(L.a.Button,{content:"Go"})]})})}),b?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(x.a.Item,{header:!0,children:[a.length," Dive sites within 25 miles of ",n,"."]}),Object(T.jsx)(x.a.Item,{id:"diveSiteList",children:Object(T.jsxs)(y.a.Group,{children:[a.length>0?a.map((function(e){return Object(T.jsx)(y.a,{color:"brown",children:Object(T.jsxs)(y.a.Content,{children:[Object(T.jsx)(w.a,{floated:"right",size:"tiny",src:M}),Object(T.jsx)(y.a.Header,{children:e.name}),Object(T.jsxs)(y.a.Meta,{children:[e.distance," miles away"]}),Object(T.jsx)(y.a.Description,{children:Object(T.jsx)("a",{target:"_blank",href:"https://www.google.com/search?q=".concat(e.name,"+near+").concat(n,"+dive+site"),children:"Find on Google"})})]})})})):Object(T.jsx)(w.a,{src:M}),Object(T.jsxs)(S.a,{as:"h5",color:"grey",children:["Dive site data provided by ",Object(T.jsx)("a",{target:"_blank",href:"http://divesites.com",children:"DiveSites.com API "}),"."]})]})})]}):Object(T.jsx)(x.a.Item,{header:!0,children:"Enter a location above to get started."})]}),Object(T.jsx)(f.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(T.jsx)(f.a,{})]})},_=Object(d.a)({reducer:{diverConfig:v}});var E=function(){return Object(T.jsx)(o.a,{store:_,children:Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(l.a,{fluid:!0,children:Object(T.jsx)(H,{})})})})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,215)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),i(e),a(e),c(e),r(e)}))};r.a.render(Object(T.jsx)(a.a.StrictMode,{children:Object(T.jsx)(E,{})}),document.getElementById("root")),R()}},[[189,1,2]]]);
//# sourceMappingURL=main.d2fb31c5.chunk.js.map